{% extends "base.html" %}

{% block body %}

    {% for game in games %}

        <div class="col-md6 border rounded">
        <h2>Game {{ game.id }}</h2>

        <h3>Playing:</h3>

        {% if game.players %}
            {% for user in game.players %}
                {{ user.name }}
            {% endfor %}
        {% else %}
            Nobody
        {% endif %}

        <br>
        <a href="../game/{{ game.join_code }}">
            <button class="btn">Join</button>
        </a>
        </div>
        <br>

    {% endfor %}

    <script>
        function sleep(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
        }

        sleep({{ update_time }}).then(() => { window.location.reload(); });
    </script>
{% endblock %}